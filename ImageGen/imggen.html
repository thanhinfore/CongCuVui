<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta name="description" content="Professional Image Text Generator - Add stunning text, effects, and filters to your images">
    <meta name="theme-color" content="#2563eb">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="keywords" content="image editor, text overlay, image filters, batch processing, professional design">
    <title>Image Text Generator Pro - SMCC</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Roboto:wght@400;700&family=Open+Sans:wght@400;700&family=Montserrat:wght@400;700&family=Poppins:wght@400;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/controls.css">
    <link rel="stylesheet" href="css/preview.css">
    <link rel="stylesheet" href="css/mobile.css">
    <link rel="stylesheet" href="css/enhanced.css">
    <link rel="stylesheet" href="css/markdown.css">
    <link rel="stylesheet" href="css/gallery.css">
</head>
<body>
    <div class="app-container">
        <header class="app-header">
            <div class="container">
                <div class="header-content">
                    <div class="header-left">
                        <img src="https://smcc.vn/images/smalllogo.png" alt="SMCC" class="logo" onclick="window.location.reload();" title="Click to reload">
                        <h1 class="app-title">Bi·ªÉu di·ªÖn Tri th·ª©c</h1>
                    </div>
                    <div class="header-actions">
                        <button id="undoBtn" class="header-btn" title="Undo (Ctrl+Z)" disabled>
                            <svg viewBox="0 0 24 24" width="20" height="20">
                                <path stroke="currentColor" stroke-width="2" fill="none" d="M3 7v6h6M3 13a9 9 0 1015-6.7"/>
                            </svg>
                        </button>
                        <button id="redoBtn" class="header-btn" title="Redo (Ctrl+Y)" disabled>
                            <svg viewBox="0 0 24 24" width="20" height="20">
                                <path stroke="currentColor" stroke-width="2" fill="none" d="M21 7v6h-6M21 13a9 9 0 10-15-6.7"/>
                            </svg>
                        </button>
                        <button id="keyboardShortcutsBtn" class="header-btn" title="Keyboard Shortcuts (?)">
                            <svg viewBox="0 0 24 24" width="20" height="20">
                                <rect x="2" y="4" width="20" height="16" rx="2" stroke="currentColor" stroke-width="2" fill="none"/>
                                <path stroke="currentColor" stroke-width="2" fill="none" d="M6 8h.01M10 8h.01M14 8h.01M6 12h12M6 16h12"/>
                            </svg>
                        </button>
                        <button id="helpBtn" class="header-btn" title="Help & Tips">
                            <svg viewBox="0 0 24 24" width="20" height="20">
                                <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none"/>
                                <path stroke="currentColor" stroke-width="2" d="M12 16v-4M12 8h.01"/>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <main class="main-content">
            <div class="container">
                <div class="content-grid">
                    <aside class="control-panel">
                        <!-- Text Content Section -->
                        <section class="panel-section active" id="textSection">
                            <div class="section-header">
                                <svg class="section-icon" viewBox="0 0 24 24">
                                    <path stroke="currentColor" stroke-width="2" fill="none" d="M17 6.1H3M21 12.1H3M15.5 18.1H3" />
                                </svg>
                                <h2 class="section-title">Text Content (Markdown Supported)</h2>
                                <button class="info-button" id="markdownHelpBtn" title="Markdown Guide">
                                    <svg viewBox="0 0 24 24">
                                        <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none" />
                                        <path stroke="currentColor" stroke-width="2" d="M12 16v-4M12 8h.01" />
                                    </svg>
                                </button>
                            </div>
                            <div class="section-content">
                                <div class="form-group">
                                    <div class="markdown-editor">
                                        <div class="editor-tabs">
                                            <button class="editor-tab active" data-tab="edit">‚úèÔ∏è Edit</button>
                                            <button class="editor-tab" data-tab="preview">üëÅÔ∏è Preview</button>
                                        </div>
                                        <div class="editor-content">
                                            <textarea id="textInput" class="text-input markdown-textarea" placeholder="Enter your text with markdown support...&#10;&#10;Examples:&#10;**Bold text** *Italic text*&#10;`Code text` ~~Strikethrough~~&#10;==Highlighted text==&#10;Main Title:Subtitle&#10;&#10;Use \n for line breaks" rows="8"></textarea>
                                            <div id="markdownPreview" class="markdown-preview-panel" style="display: none;">
                                                <div class="preview-content">Your preview will appear here...</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="markdown-hints">
                                        <span class="hint-badge">**bold**</span>
                                        <span class="hint-badge">*italic*</span>
                                        <span class="hint-badge">`code`</span>
                                        <span class="hint-badge">~~strike~~</span>
                                        <span class="hint-badge">==highlight==</span>
                                    </div>
                                    <div class="button-group">
                                        <button id="insertFooterText" class="helper-button primary">Add footer text</button>
                                        <button id="insertLineBreak" class="helper-button">Soft break (\n)</button>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <!-- Upload Section -->
                        <section class="panel-section active" id="uploadSection">
                            <div class="section-header">
                                <svg class="section-icon" viewBox="0 0 24 24">
                                    <path stroke="currentColor" stroke-width="2" fill="none" d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M17 8L12 3 7 8M12 3v12" />
                                </svg>
                                <h2 class="section-title">Upload Images</h2>
                            </div>
                            <div class="section-content">
                                <div class="upload-area" id="uploadArea">
                                    <input type="file" id="imageLoader" class="file-input" multiple accept="image/*">
                                    <div class="upload-content">
                                        <svg class="upload-icon" viewBox="0 0 24 24">
                                            <path stroke="currentColor" stroke-width="2" fill="none" d="M12 15V3M12 3l-4 4M12 3l4 4M2 17l.621 2.485A2 2 0 004.561 21h14.878a2 2 0 001.94-1.515L22 17" />
                                        </svg>
                                        <p class="upload-text">Drop images here or click to browse</p>
                                        <p class="upload-hint">Support: JPG, PNG, GIF, WebP ‚Ä¢ Or press Ctrl+V to paste</p>
                                    </div>
                                </div>
                                <div class="button-group">
                                    <button id="pasteFromClipboard" class="helper-button">
                                        <svg viewBox="0 0 24 24" width="16" height="16">
                                            <path stroke="currentColor" stroke-width="2" fill="none" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"/>
                                        </svg>
                                        Paste from Clipboard
                                    </button>
                                    <button id="clearAllImages" class="helper-button secondary" style="display:none;">
                                        <svg viewBox="0 0 24 24" width="16" height="16">
                                            <path stroke="currentColor" stroke-width="2" fill="none" d="M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"/>
                                        </svg>
                                        Clear All
                                    </button>
                                </div>
                                <label class="checkbox-label">
                                    <input type="checkbox" id="repeatBackgroundCheckbox" class="checkbox">
                                    <span class="checkbox-text">Repeat text for each image</span>
                                </label>
                            </div>
                        </section>

                        <!-- Browse Images from Folder Section -->
                        <section class="panel-section active" id="folderImagesSection">
                            <div class="section-header">
                                <svg class="section-icon" viewBox="0 0 24 24">
                                    <path stroke="currentColor" stroke-width="2" fill="none" d="M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5a2 2 0 012-2h5l2 3h9a2 2 0 012 2z"/>
                                </svg>
                                <h2 class="section-title">Browse Images from Folder</h2>
                                <button class="info-button" title="Select images from the images/ folder">
                                    <svg viewBox="0 0 24 24">
                                        <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none" />
                                        <path stroke="currentColor" stroke-width="2" d="M12 16v-4M12 8h.01" />
                                    </svg>
                                </button>
                            </div>
                            <div class="section-content">
                                <div class="folder-actions">
                                    <button id="randomImage1Btn" class="helper-button primary">
                                        <svg viewBox="0 0 24 24" width="16" height="16">
                                            <path stroke="currentColor" stroke-width="2" fill="none" d="M21 16V8a2 2 0 00-2-2h-5l-2-3H5a2 2 0 00-2 2v11a2 2 0 002 2h11"/>
                                            <circle cx="17" cy="17" r="3" stroke="currentColor" stroke-width="2" fill="none"/>
                                        </svg>
                                        Random 1 Image
                                    </button>
                                    <button id="randomImage3Btn" class="helper-button">
                                        <svg viewBox="0 0 24 24" width="16" height="16">
                                            <path stroke="currentColor" stroke-width="2" fill="none" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"/>
                                        </svg>
                                        Random 3 Images
                                    </button>
                                    <button id="selectAllFolderBtn" class="helper-button secondary">
                                        <svg viewBox="0 0 24 24" width="16" height="16">
                                            <path stroke="currentColor" stroke-width="2" fill="none" d="M9 11l3 3L22 4"/>
                                            <path stroke="currentColor" stroke-width="2" fill="none" d="M21 12v7a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h11"/>
                                        </svg>
                                        Select All
                                    </button>
                                </div>
                                <div id="folderImagesContainer" class="folder-images-container">
                                    <div class="loading-message">
                                        <svg class="spinner" viewBox="0 0 24 24" width="32" height="32">
                                            <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none" opacity="0.25"/>
                                            <path stroke="currentColor" stroke-width="2" fill="none" d="M12 2a10 10 0 0110 10" opacity="0.75"/>
                                        </svg>
                                        <p>Loading images...</p>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <!-- Preset Templates Section -->
                        <section class="panel-section active" id="presetsSection">
                            <div class="section-header">
                                <svg class="section-icon" viewBox="0 0 24 24">
                                    <path stroke="currentColor" stroke-width="2" fill="none" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" />
                                </svg>
                                <h2 class="section-title">Preset Templates</h2>
                            </div>
                            <div class="section-content">
                                <div class="presets-grid" id="presetsGrid">
                                    <!-- Presets will be generated dynamically -->
                                </div>
                                <div class="preset-actions">
                                    <button id="saveCustomPreset" class="secondary-button small">
                                        <svg viewBox="0 0 24 24" width="16" height="16">
                                            <path stroke="currentColor" stroke-width="2" fill="none" d="M19 21H5a2 2 0 01-2-2V5a2 2 0 012-2h11l5 5v11a2 2 0 01-2 2z"/>
                                            <path stroke="currentColor" stroke-width="2" fill="none" d="M17 21v-8H7v8M7 3v5h8"/>
                                        </svg>
                                        Save Current as Preset
                                    </button>
                                </div>
                            </div>
                        </section>

                        <!-- Style Section -->
                        <section class="panel-section active" id="styleSection">
                            <div class="section-header">
                                <svg class="section-icon" viewBox="0 0 24 24">
                                    <path stroke="currentColor" stroke-width="2" fill="none" d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" />
                                </svg>
                                <h2 class="section-title">Style Settings</h2>
                                <button class="reset-button" id="resetSettings" title="Reset to defaults">
                                    <svg viewBox="0 0 24 24" width="18" height="18">
                                        <path stroke="currentColor" stroke-width="2" fill="none" d="M3 12a9 9 0 0113.8-7.6M21 12a9 9 0 01-13.8 7.6M3 4v4h4M21 20v-4h-4"/>
                                    </svg>
                                </button>
                            </div>
                            <div class="section-content">
                                <!-- Font Family -->
                                <div class="style-group">
                                    <label class="form-label">Font Family</label>
                                    <select id="fontSelect" class="select-input">
                                        <option value="Inter, sans-serif" selected>Inter</option>
                                        <option value="Roboto, sans-serif">Roboto</option>
                                        <option value="Open Sans, sans-serif">Open Sans</option>
                                        <option value="Montserrat, sans-serif">Montserrat</option>
                                        <option value="Poppins, sans-serif">Poppins</option>
                                        <option value="Arial, sans-serif">Arial</option>
                                        <option value="Georgia, serif">Georgia</option>
                                        <option value="Times New Roman, serif">Times New Roman</option>
                                    </select>
                                </div>

                                <!-- Font Size -->
                                <div class="style-group">
                                    <label class="form-label">Font Size</label>
                                    <div class="font-size-controls">
                                        <div class="range-group">
                                            <label for="mainFontSize">Main Text</label>
                                            <input type="range" id="mainFontSize" min="12" max="120" value="48" class="range-input">
                                            <span class="range-value" id="mainFontSizeValue">48px</span>
                                        </div>
                                        <div class="range-group">
                                            <label for="subFontSize">Subtitle</label>
                                            <input type="range" id="subFontSize" min="8" max="80" value="32" class="range-input">
                                            <span class="range-value" id="subFontSizeValue">32px</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- Font Effects -->
                                <div class="style-group">
                                    <label class="form-label">Font Effects</label>
                                    <div class="text-effects-grid">
                                        <div class="effect-control">
                                            <label for="fontWeightSelect">Weight</label>
                                            <select id="fontWeightSelect" class="select-input small">
                                                <option value="400">Normal</option>
                                                <option value="600">Semi Bold</option>
                                                <option value="bold">Bold</option>
                                                <option value="800">Extra Bold</option>
                                            </select>
                                        </div>
                                        <div class="effect-control">
                                            <label for="fontStyleSelect">Style</label>
                                            <select id="fontStyleSelect" class="select-input small">
                                                <option value="normal">Normal</option>
                                                <option value="italic">Italic</option>
                                            </select>
                                        </div>
                                        <label class="checkbox-label">
                                            <input type="checkbox" id="textUnderlineCheckbox" class="checkbox">
                                            <span class="checkbox-text">Underline</span>
                                        </label>
                                        <label class="checkbox-label">
                                            <input type="checkbox" id="textBorderCheckbox" class="checkbox">
                                            <span class="checkbox-text">Border</span>
                                        </label>
                                        <label class="checkbox-label">
                                            <input type="checkbox" id="textShadowCheckbox" class="checkbox">
                                            <span class="checkbox-text">Shadow</span>
                                        </label>
                                    </div>

                                    <!-- Border Width -->
                                    <div class="effect-sub-control" id="borderWidthControl" style="display: none;">
                                        <label for="borderWidth">Border Width</label>
                                        <input type="range" id="borderWidth" min="0.5" max="5" step="0.5" value="2" class="range-input">
                                        <span class="range-value" id="borderWidthValue">2px</span>
                                    </div>

                                    <!-- Shadow -->
                                    <div class="effect-sub-control" id="shadowControl" style="display: none;">
                                        <label for="shadowBlur">Shadow Blur</label>
                                        <input type="range" id="shadowBlur" min="0" max="20" value="4" class="range-input">
                                        <span class="range-value" id="shadowBlurValue">4px</span>
                                    </div>
                                </div>

                                <!-- Colors -->
                                <div class="style-group">
                                    <label class="form-label">Text Colors</label>
                                    <div class="color-mode-selector">
                                        <label class="radio-label">
                                            <input type="radio" name="colorMode" value="solid" checked>
                                            <span>Solid</span>
                                        </label>
                                        <label class="radio-label">
                                            <input type="radio" name="colorMode" value="gradient">
                                            <span>Gradient</span>
                                        </label>
                                    </div>

                                    <!-- Solid Colors -->
                                    <div class="color-grid" id="solidColors">
                                        <div class="color-input-group">
                                            <label for="colorPicker">Main</label>
                                            <input type="color" id="colorPicker" value="#FFFFFF" class="color-picker">
                                        </div>
                                        <div class="color-input-group">
                                            <label for="subColorPicker">Subtitle</label>
                                            <input type="color" id="subColorPicker" value="#FFFFFF" class="color-picker">
                                        </div>
                                    </div>

                                    <!-- Gradient Colors -->
                                    <div class="gradient-controls" id="gradientColors" style="display: none;">
                                        <div class="color-grid">
                                            <div class="color-input-group">
                                                <label for="gradientColor1">Color 1</label>
                                                <input type="color" id="gradientColor1" value="#FF6B6B" class="color-picker">
                                            </div>
                                            <div class="color-input-group">
                                                <label for="gradientColor2">Color 2</label>
                                                <input type="color" id="gradientColor2" value="#4ECDC4" class="color-picker">
                                            </div>
                                        </div>
                                        <div class="range-group">
                                            <label for="gradientAngle">Gradient Angle</label>
                                            <input type="range" id="gradientAngle" min="0" max="360" value="45" class="range-input">
                                            <span class="range-value" id="gradientAngleValue">45¬∞</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- Text Alignment -->
                                <div class="style-group">
                                    <label class="form-label">Text Alignment</label>
                                    <div class="alignment-buttons">
                                        <button type="button" class="align-btn" data-align="left" title="Align Left">
                                            <svg viewBox="0 0 24 24"><path d="M3 6h18M3 12h12M3 18h18" stroke="currentColor" stroke-width="2" fill="none"/></svg>
                                        </button>
                                        <button type="button" class="align-btn active" data-align="center" title="Align Center">
                                            <svg viewBox="0 0 24 24"><path d="M3 6h18M6 12h12M3 18h18" stroke="currentColor" stroke-width="2" fill="none"/></svg>
                                        </button>
                                        <button type="button" class="align-btn" data-align="right" title="Align Right">
                                            <svg viewBox="0 0 24 24"><path d="M3 6h18M9 12h12M3 18h18" stroke="currentColor" stroke-width="2" fill="none"/></svg>
                                        </button>
                                    </div>
                                </div>

                                <!-- Position -->
                                <div class="style-group">
                                    <label class="form-label">Text Position</label>
                                    <select id="positionPicker" class="select-input">
                                        <option value="top">Top</option>
                                        <option value="upper-middle">Upper Middle</option>
                                        <option value="middle">Middle</option>
                                        <option value="lower-middle">Lower Middle</option>
                                        <option value="bottom" selected>Bottom</option>
                                    </select>
                                </div>

                                <!-- Advanced Text Controls -->
                                <div class="style-group">
                                    <label class="form-label">Advanced Text Controls</label>

                                    <!-- Text Rotation -->
                                    <div class="range-group">
                                        <label for="textRotation">Rotation</label>
                                        <input type="range" id="textRotation" min="-180" max="180" value="0" class="range-input">
                                        <span class="range-value" id="textRotationValue">0¬∞</span>
                                    </div>

                                    <!-- Text Opacity -->
                                    <div class="range-group">
                                        <label for="textOpacity">Opacity</label>
                                        <input type="range" id="textOpacity" min="0" max="100" value="100" class="range-input">
                                        <span class="range-value" id="textOpacityValue">100%</span>
                                    </div>

                                    <!-- Letter Spacing -->
                                    <div class="range-group">
                                        <label for="letterSpacing">Letter Spacing</label>
                                        <input type="range" id="letterSpacing" min="-5" max="20" value="0" step="0.5" class="range-input">
                                        <span class="range-value" id="letterSpacingValue">0px</span>
                                    </div>

                                    <!-- Line Height -->
                                    <div class="range-group">
                                        <label for="lineHeight">Line Height</label>
                                        <input type="range" id="lineHeight" min="0.8" max="3" value="2" step="0.1" class="range-input">
                                        <span class="range-value" id="lineHeightValue">2.0</span>
                                    </div>

                                    <!-- Text Transform -->
                                    <div class="transform-control">
                                        <label for="textTransform">Text Transform</label>
                                        <select id="textTransform" class="select-input small">
                                            <option value="none">None</option>
                                            <option value="uppercase">UPPERCASE</option>
                                            <option value="lowercase">lowercase</option>
                                            <option value="capitalize">Capitalize</option>
                                        </select>
                                    </div>

                                    <!-- Glow Effect -->
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="textGlowCheckbox" class="checkbox">
                                        <span class="checkbox-text">Glow Effect</span>
                                    </label>
                                    <div class="effect-sub-control" id="glowControl" style="display: none;">
                                        <div class="color-input-group">
                                            <label for="glowColor">Glow Color</label>
                                            <input type="color" id="glowColor" value="#FFD700" class="color-picker">
                                        </div>
                                        <div class="range-group">
                                            <label for="glowIntensity">Glow Intensity</label>
                                            <input type="range" id="glowIntensity" min="5" max="50" value="20" class="range-input">
                                            <span class="range-value" id="glowIntensityValue">20px</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- Background -->
                                <div class="style-group">
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="subtitleBgCheckbox" class="checkbox">
                                        <span class="checkbox-text">Subtitle background</span>
                                    </label>
                                    <div class="bg-controls" id="bgControls" style="display: none;">
                                        <div class="color-input-group">
                                            <label for="bgColorPicker">Color</label>
                                            <input type="color" id="bgColorPicker" value="#000000" class="color-picker">
                                        </div>
                                        <div class="range-group">
                                            <label for="bgOpacity">Opacity</label>
                                            <input type="range" id="bgOpacity" min="0" max="100" value="28" class="range-input">
                                            <span class="range-value">28%</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <!-- Image Filters Section -->
                        <section class="panel-section active" id="filtersSection">
                            <div class="section-header">
                                <svg class="section-icon" viewBox="0 0 24 24">
                                    <path stroke="currentColor" stroke-width="2" fill="none" d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/>
                                </svg>
                                <h2 class="section-title">Image Filters</h2>
                                <button class="reset-button" id="resetFilters" title="Reset filters">
                                    <svg viewBox="0 0 24 24" width="18" height="18">
                                        <path stroke="currentColor" stroke-width="2" fill="none" d="M3 12a9 9 0 0113.8-7.6M21 12a9 9 0 01-13.8 7.6M3 4v4h4M21 20v-4h-4"/>
                                    </svg>
                                </button>
                            </div>
                            <div class="section-content">
                                <div class="style-group">
                                    <div class="range-group">
                                        <label for="filterBrightness">Brightness</label>
                                        <input type="range" id="filterBrightness" min="0" max="200" value="100" class="range-input">
                                        <span class="range-value" id="filterBrightnessValue">100%</span>
                                    </div>
                                    <div class="range-group">
                                        <label for="filterContrast">Contrast</label>
                                        <input type="range" id="filterContrast" min="0" max="200" value="100" class="range-input">
                                        <span class="range-value" id="filterContrastValue">100%</span>
                                    </div>
                                    <div class="range-group">
                                        <label for="filterSaturation">Saturation</label>
                                        <input type="range" id="filterSaturation" min="0" max="200" value="100" class="range-input">
                                        <span class="range-value" id="filterSaturationValue">100%</span>
                                    </div>
                                    <div class="range-group">
                                        <label for="filterBlur">Blur</label>
                                        <input type="range" id="filterBlur" min="0" max="10" value="0" step="0.1" class="range-input">
                                        <span class="range-value" id="filterBlurValue">0px</span>
                                    </div>
                                    <div class="range-group">
                                        <label for="filterHue">Hue Rotate</label>
                                        <input type="range" id="filterHue" min="0" max="360" value="0" class="range-input">
                                        <span class="range-value" id="filterHueValue">0¬∞</span>
                                    </div>
                                    <div class="range-group">
                                        <label for="filterGrayscale">Grayscale</label>
                                        <input type="range" id="filterGrayscale" min="0" max="100" value="0" class="range-input">
                                        <span class="range-value" id="filterGrayscaleValue">0%</span>
                                    </div>
                                    <div class="range-group">
                                        <label for="filterSepia">Sepia</label>
                                        <input type="range" id="filterSepia" min="0" max="100" value="0" class="range-input">
                                        <span class="range-value" id="filterSepiaValue">0%</span>
                                    </div>
                                    <div class="range-group">
                                        <label for="filterInvert">Invert</label>
                                        <input type="range" id="filterInvert" min="0" max="100" value="0" class="range-input">
                                        <span class="range-value" id="filterInvertValue">0%</span>
                                    </div>
                                </div>
                                <div class="preset-actions">
                                    <button id="filterPresetVintage" class="secondary-button small">Vintage</button>
                                    <button id="filterPresetBW" class="secondary-button small">B&W</button>
                                    <button id="filterPresetWarm" class="secondary-button small">Warm</button>
                                    <button id="filterPresetCool" class="secondary-button small">Cool</button>
                                </div>
                            </div>
                        </section>

                        <!-- Export Options Section -->
                        <section class="panel-section active" id="exportSection">
                            <div class="section-header">
                                <svg class="section-icon" viewBox="0 0 24 24">
                                    <path stroke="currentColor" stroke-width="2" fill="none" d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M7 10l5 5 5-5M12 15V3"/>
                                </svg>
                                <h2 class="section-title">Export Settings</h2>
                            </div>
                            <div class="section-content">
                                <div class="style-group">
                                    <label class="form-label">Export Format</label>
                                    <select id="exportFormat" class="select-input">
                                        <option value="png">PNG (Best Quality)</option>
                                        <option value="jpeg">JPEG (Smaller Size)</option>
                                        <option value="webp">WebP (Modern)</option>
                                    </select>
                                </div>
                                <div class="style-group" id="qualityControl">
                                    <label class="form-label">Quality</label>
                                    <div class="range-group">
                                        <input type="range" id="exportQuality" min="1" max="100" value="92" class="range-input">
                                        <span class="range-value" id="exportQualityValue">92%</span>
                                    </div>
                                </div>
                                <div class="style-group">
                                    <label class="form-label">Download Options</label>
                                    <button id="downloadAllZip" class="secondary-button" style="width: 100%; margin-top: 8px;" disabled>
                                        <svg viewBox="0 0 24 24" width="16" height="16">
                                            <path stroke="currentColor" stroke-width="2" fill="none" d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M7 10l5 5 5-5M12 15V3"/>
                                        </svg>
                                        Download All as ZIP
                                    </button>
                                </div>
                            </div>
                        </section>

                        <!-- Credit Section -->
                        <section class="panel-section active" id="creditSection">
                            <div class="section-header">
                                <svg class="section-icon" viewBox="0 0 24 24">
                                    <path stroke="currentColor" stroke-width="2" fill="none" d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2M12 11a4 4 0 1 0 0-8 4 4 0 0 0 0 8z" />
                                </svg>
                                <h2 class="section-title">Author Credit</h2>
                            </div>
                            <div class="section-content">
                                <input type="text" id="creditInput" class="text-input" placeholder="Enter author credit (optional)">
                            </div>
                        </section>

                        <!-- Action Button -->
                        <div class="action-section">
                            <button id="addTextButton" class="primary-button" disabled>
                                <svg viewBox="0 0 24 24">
                                    <path stroke="currentColor" stroke-width="2" fill="none" d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z" />
                                </svg>
                                Add Text to Images
                            </button>
                        </div>
                    </aside>

                    <!-- Preview Panel -->
                    <section class="preview-panel">
                        <div class="panel-header">
                            <h2 class="panel-title">Preview</h2>
                            <div id="previewActions" class="preview-actions" style="display: none;">
                                <select id="globalPosition" class="select-input small">
                                    <option value="top">All: Top</option>
                                    <option value="upper-middle">All: Upper Middle</option>
                                    <option value="middle">All: Middle</option>
                                    <option value="lower-middle">All: Lower Middle</option>
                                    <option value="bottom">All: Bottom</option>
                                </select>
                                <button id="applyAllPosition" class="secondary-button small">Apply</button>
                            </div>
                        </div>
                        <div id="canvasContainer" class="canvas-container">
                            <div class="empty-state">
                                <svg viewBox="0 0 24 24" class="empty-icon">
                                    <rect x="3" y="3" width="18" height="18" rx="2" stroke="currentColor" stroke-width="2" fill="none" />
                                    <circle cx="8.5" cy="8.5" r="1.5" fill="currentColor" />
                                    <path stroke="currentColor" stroke-width="2" fill="none" d="M21 15l-5-5L5 21" />
                                </svg>
                                <p>Your edited images will appear here</p>
                            </div>
                        </div>
                    </section>
                </div>
            </div>
        </main>
    </div>

    <nav class="mobile-tabs" id="mobileTabs">
        <button class="tab-button active" data-panel="control">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
            </svg>
            Edit
        </button>
        <button class="tab-button" data-panel="preview">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                <circle cx="12" cy="12" r="3"></circle>
            </svg>
            Preview
        </button>
    </nav>

    <!-- Keyboard Shortcuts Modal -->
    <div id="keyboardShortcutsModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Keyboard Shortcuts</h2>
                <button class="modal-close" onclick="document.getElementById('keyboardShortcutsModal').style.display='none'">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <path stroke="currentColor" stroke-width="2" fill="none" d="M18 6L6 18M6 6l12 12"/>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <div class="shortcuts-grid">
                    <div class="shortcut-item">
                        <span class="shortcut-keys"><kbd>Ctrl</kbd> + <kbd>Enter</kbd></span>
                        <span class="shortcut-desc">Add text to images</span>
                    </div>
                    <div class="shortcut-item">
                        <span class="shortcut-keys"><kbd>Ctrl</kbd> + <kbd>S</kbd></span>
                        <span class="shortcut-desc">Save settings</span>
                    </div>
                    <div class="shortcut-item">
                        <span class="shortcut-keys"><kbd>Ctrl</kbd> + <kbd>V</kbd></span>
                        <span class="shortcut-desc">Paste image from clipboard</span>
                    </div>
                    <div class="shortcut-item">
                        <span class="shortcut-keys"><kbd>Ctrl</kbd> + <kbd>Z</kbd></span>
                        <span class="shortcut-desc">Undo last action</span>
                    </div>
                    <div class="shortcut-item">
                        <span class="shortcut-keys"><kbd>Ctrl</kbd> + <kbd>Y</kbd></span>
                        <span class="shortcut-desc">Redo action</span>
                    </div>
                    <div class="shortcut-item">
                        <span class="shortcut-keys"><kbd>?</kbd></span>
                        <span class="shortcut-desc">Show keyboard shortcuts</span>
                    </div>
                    <div class="shortcut-item">
                        <span class="shortcut-keys"><kbd>Esc</kbd></span>
                        <span class="shortcut-desc">Close modals</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Help Modal -->
    <div id="helpModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Help & Tips</h2>
                <button class="modal-close" onclick="document.getElementById('helpModal').style.display='none'">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <path stroke="currentColor" stroke-width="2" fill="none" d="M18 6L6 18M6 6l12 12"/>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <div class="help-section">
                    <h3>Getting Started</h3>
                    <ol>
                        <li>Upload one or more images by dragging & dropping or clicking the upload area</li>
                        <li>Enter your text in the text area with markdown support</li>
                        <li>Use <code>:</code> to create title and subtitle (e.g., "Title:Subtitle")</li>
                        <li>Customize the style, colors, and effects</li>
                        <li>Click "Add Text to Images" to generate</li>
                        <li>Download individual images or all as ZIP</li>
                    </ol>
                </div>
                <div class="help-section">
                    <h3>Pro Tips</h3>
                    <ul>
                        <li>Use presets to quickly apply professional styles</li>
                        <li>Apply image filters for vintage, B&W, or custom looks</li>
                        <li>Save your custom settings as presets for reuse</li>
                        <li>Use Ctrl+V to paste images from clipboard</li>
                        <li>Enable "Repeat text for each image" for batch processing</li>
                        <li>Adjust export quality for smaller file sizes</li>
                    </ul>
                </div>
                <div class="help-section">
                    <h3>Text Formatting</h3>
                    <ul>
                        <li><strong>\n</strong> - Soft line break (within same text block)</li>
                        <li><strong>:</strong> - Separator between main text and subtitle</li>
                        <li>Multiple lines without <code>:</code> will all be main text</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Markdown Help Modal -->
    <div id="markdownHelpModal" class="modal" style="display: none;">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2>üìù Markdown Guide</h2>
                <button class="modal-close" onclick="document.getElementById('markdownHelpModal').style.display='none'">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <path stroke="currentColor" stroke-width="2" fill="none" d="M18 6L6 18M6 6l12 12"/>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <div class="markdown-guide">
                    <div class="guide-section">
                        <h3>‚ú® Text Styling</h3>
                        <div class="markdown-examples">
                            <div class="markdown-example">
                                <code>**Bold text**</code>
                                <span class="arrow">‚Üí</span>
                                <strong>Bold text</strong>
                            </div>
                            <div class="markdown-example">
                                <code>*Italic text*</code>
                                <span class="arrow">‚Üí</span>
                                <em>Italic text</em>
                            </div>
                            <div class="markdown-example">
                                <code>***Bold Italic***</code>
                                <span class="arrow">‚Üí</span>
                                <strong><em>Bold Italic</em></strong>
                            </div>
                            <div class="markdown-example">
                                <code>`Code text`</code>
                                <span class="arrow">‚Üí</span>
                                <code class="inline-code">Code text</code>
                            </div>
                            <div class="markdown-example">
                                <code>~~Strikethrough~~</code>
                                <span class="arrow">‚Üí</span>
                                <del>Strikethrough</del>
                            </div>
                            <div class="markdown-example">
                                <code>==Highlighted==</code>
                                <span class="arrow">‚Üí</span>
                                <mark>Highlighted</mark>
                            </div>
                        </div>
                    </div>

                    <div class="guide-section">
                        <h3>üîó Links</h3>
                        <div class="markdown-examples">
                            <div class="markdown-example">
                                <code>[Link text](https://example.com)</code>
                                <span class="arrow">‚Üí</span>
                                <span style="color: #3498db; text-decoration: underline;">Link text</span>
                            </div>
                        </div>
                    </div>

                    <div class="guide-section">
                        <h3>üìã Special Features</h3>
                        <div class="markdown-examples">
                            <div class="markdown-example">
                                <code>\n</code>
                                <span class="arrow">‚Üí</span>
                                <span>Soft line break</span>
                            </div>
                            <div class="markdown-example">
                                <code>Title:Subtitle</code>
                                <span class="arrow">‚Üí</span>
                                <span>Separate main text from subtitle</span>
                            </div>
                        </div>
                    </div>

                    <div class="guide-section">
                        <h3>üí° Examples</h3>
                        <div class="example-box">
                            <pre>**Welcome** to *Image Generator*\n`Version 2.0`\n\n==New Features==:\n- Full **markdown** support\n- *Professional* styling\n- ~~Old~~ **New** design</pre>
                        </div>
                    </div>

                    <div class="guide-tips">
                        <h4>üí´ Pro Tips:</h4>
                        <ul>
                            <li>Mix and match different markdown styles in the same line</li>
                            <li>Use the Preview tab to see how your text will look</li>
                            <li>Code blocks and links will be styled with special colors</li>
                            <li>Combine with other text effects (glow, shadow, border) for stunning results</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay" style="display: none;">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <p id="loadingText">Processing...</p>
            <div class="loading-progress">
                <div class="progress-bar">
                    <div id="progressBarFill" class="progress-fill" style="width: 0%"></div>
                </div>
                <p id="progressText" class="progress-text">0%</p>
            </div>
        </div>
    </div>

    <!-- Toast Notifications Container -->
    <div id="toastContainer" class="toast-container"></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.7.1/jszip.min.js"></script>
    <script type="module" src="js/app.js"></script>
</body>
</html>